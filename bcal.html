<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Binary Calculator</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .calculator {
        background: white;
        padding: 25px;
        border-radius: 12px;
        width: 400px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    }

    h2 {
        text-align: center;
        margin-bottom: 15px;
    }

    input, select, button {
        width: 100%;
        padding: 8px;
        margin: 5px 0;
        font-size: 14px;
    }

    button {
        background: #2a5298;
        color: pink;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }

    button:hover {
        background: #1e3c72;
    }

    .result {
        margin-top: 10px;
        font-weight: bold;
        color: orange;
    }

    .error {
        color: red;
        font-size: 13px;
    }
</style>
</head>

<body>

<div class="calculator">
    <h2>Advanced Binary Calculator</h2>

    <input type="text" id="num1" placeholder="Enter First Binary Number">
    <input type="text" id="num2" placeholder="Enter Second Binary Number (if needed)">

    <select id="operation">
        <option value="add">Addition (+)</option>
        <option value="sub">Subtraction (-)</option>
        <option value="mul">Multiplication (*)</option>
        <option value="div">Division (/)</option>
        <option value="and">AND (&)</option>
        <option value="or">OR (|)</option>
        <option value="xor">XOR (^)</option>
        <option value="not">NOT (~)</option>
        <option value="nand">NAND</option>
        <option value="nor">NOR</option>
        <option value="xnor">XNOR</option>
        <option value="lshift">Left Shift (<<)</option>
        <option value="rshift">Right Shift (>>)</option>
        <option value="binToDec">Binary → Decimal</option>
        <option value="decToBin">Decimal → Binary</option>
    </select>

    <button onclick="calculate()">Calculate</button>

    <div class="result" id="result"></div>
    <div class="error" id="error"></div>
</div>

<script>
function isBinary(str) {
    return /^[01]+$/.test(str);
}

function calculate() {
    let num1 = document.getElementById("num1").value.trim();
    let num2 = document.getElementById("num2").value.trim();
    let operation = document.getElementById("operation").value;

    let resultDiv = document.getElementById("result");
    let errorDiv = document.getElementById("error");

    resultDiv.innerHTML = "";
    errorDiv.innerHTML = "";

    try {
        let result;

        if (operation === "decToBin") {
            if (isNaN(num1)) throw "Enter valid decimal number";
            result = parseInt(num1).toString(2);
        }
        else if (operation === "binToDec") {
            if (!isBinary(num1)) throw "Enter valid binary number";
            result = parseInt(num1, 2).toString(10);
        }
        else {
            if (!isBinary(num1)) throw "First number must be binary";

            let a = parseInt(num1, 2);
            let b = parseInt(num2 || "0", 2);

            switch(operation) {
                case "add":
                    result = (a + b).toString(2);
                    break;
                case "sub":
                    result = (a - b).toString(2);
                    break;
                case "mul":
                    result = (a * b).toString(2);
                    break;
                case "div":
                    if (b === 0) throw "Division by zero not allowed";
                    result = Math.floor(a / b).toString(2);
                    break;
                case "and":
                    result = (a & b).toString(2);
                    break;
                case "or":
                    result = (a | b).toString(2);
                    break;
                case "xor":
                    result = (a ^ b).toString(2);
                    break;
                case "not":
                    result = (~a >>> 0).toString(2);
                    break;
                case "nand":
                    result = (~(a & b) >>> 0).toString(2);
                    break;

                case "nor":
                    result = (~(a | b) >>> 0).toString(2);
                    break;

                case "xnor":
                    result = (~(a ^ b) >>> 0).toString(2);
                    break;
                case "lshift":
                    result = (a << b).toString(2);
                    break;
                case "rshift":
                    result = (a >> b).toString(2);
                    break;
            }
        }

        resultDiv.innerHTML = "Result: " + result;
    }
    catch(err) {
        errorDiv.innerHTML = "Error: " + err;
    }
}
</script>

</body>
</html>